@model IEnumerable<OnlineLibrary.Web.Models.PublicBookViewModel>

@{
    ViewData["Title"] = "Online Library";
}

<div class="container mt-4">

    <!-- SEARCH BAR -->
    <form method="get" class="mb-4">
        <input type="text"
               name="search"
               class="form-control form-control-lg"
               placeholder="Search by title, author or category" />
    </form>

    <!-- CATEGORIES -->
    <div class="mb-4">
        @foreach (var category in ViewBag.Categories)
        {
            <a asp-action="Index"
               asp-route-categoryId="@category.CategoryId"
               class="btn btn-outline-dark btn-sm me-2 mb-2">
                @category.CategoryName
            </a>
        }
    </div>

    <!-- BOOK CAROUSEL -->
    <div class="d-flex overflow-auto gap-3 pb-3">

        @foreach (var book in Model)
        {
            <div class="card shadow-sm"
                 style="min-width:220px;">

                <img src="@book.ImageUrl"
                     class="card-img-top"
                     style="height:280px; object-fit:cover;" />

                <div class="card-body">
                    <h6 class="card-title">@book.Title</h6>
                    <p class="mb-1 text-muted">@book.Author</p>
                    <small class="text-muted">@book.CategoryName</small>

                    <div class="mt-2">
                        <a asp-controller="Book"
                           asp-action="Details"
                           asp-route-id="@book.BookId"
                           class="btn btn-sm btn-secondary w-100">
                            View Details
                        </a>

                    </div>
                </div>
            </div>
        }

    </div>
</div>
